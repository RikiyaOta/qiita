---
title: 書籍「プログラマー脳」勉強会 Part2
tags:
  - 'プログラミング'
  - '本の紹介'
private: true
updated_at: ''
id: null
organization_url_name: null
slide: false
---

# はじめに

本記事は、[書籍プログラマー脳 ～優れたプログラマーになるための認知科学に基づくアプローチ](https://amzn.asia/d/7aJFYEn)の内容の紹介を Part1, Part2 に分けて紹介していく内容の記事になります。

今回は Part2 になります。Part1 は以下の記事です。

https://qiita.com/Rikiya_Ota/private/ea50fc378876efd6162a

# Part1 の振り返りを簡単に

Part1 では、特にプログラムを読む時のプログラマーの脳内の認知機能の働きについて学びました。

特に重要だった点をまとめると、

- 短期記憶、長期記憶から情報を取り出して思考を展開するのがワーキングメモリ
- 短期記憶、ワーキングメモリに載せられる情報量が極端に少なく、また時間も短い
- プログラマーはコードを読むときにかなり長期記憶に頼っている

あたりかなと思います。

特に短期記憶・ワーキングメモリがかなり"貧弱"だという点は、認知プロセスを考える上で重要なのではないでしょうか。

今回の Part2 は主に本書の後半に当たる内容になります。

プログラムを読むところだけでなく、プログラムを書くこと、そしてプログラミング言語を学ぶことについての認知プロセスの仕組みを学んでいく内容となっております。

全部を網羅は難しいので、個人的に興味のそそられた Chapter を抜粋して紹介していきます。

# Chapter7: 誤認識：思考に潜むバグ

まず最初のキーワードは『転移』です。

転移とは、何か学習して身につけた知識や経験が、他の領域の学習の際にも役立つような現象のことを指します。

例えば javascript しか経験のなかったプログラマーが Python を勉強し始める時、`if`や`for`のような制御構文の書き方は知っているので、それを使って Python のプログラムを書くことができます。多少の文法的な違いはあれど、全くプログラミングの経験がない人に比べれば圧倒的に早く身につけることができると思います。

プログラマーならそうした経験のある方も多いのではないでしょうか。

この時に機能している認知プロセスは2つです：

- 学習中の転移（transfer during learning）
- 学習の転移（transfer of learning）

『学習中の転移』は、新しい情報に遭遇したときに、似たような情報を長期記憶から引っ張り出してくることでワーキングメモリが助けられる現象です。まさに上記の例に当てはまります。

『学習の転移』は、すでに知っている知識がこれまでよく知らなかった状況に適用できる時に発生します。

少し上の例と似ていますが、javascript のみ経験のあるプログラマーが Python のコードを書き始めるときに、「javascript では関数を定義するときに`function`というキーワードを使うけど、Python でも同じだろうか」など、今まで得た知識を適用することが学習の転移になります。

---

どれくらい知識の転移を行うことができるかは、いくつかの要因に大きく影響されます。
具体的には以下です：

- 習熟度
- 類似度
- コンテクスト
- 重要な性質に関連する知識
- 関連性
- 感情

特に習熟度などは個人的にも重要だと思っています。javascript の知識が豊富なプログラマーは、より多くの情報を使って他の言語を学ぶことができます。
一方で、例えば`if`, `for`しか知らないのであれば、Python を学ぶにしても`if`,`for`を学ぶ際にしか転移が行われないでしょう。

なので、いろいろな言語を学ぶにしても、各言語をきちんと深く学ぶことは、学習の転移という観点においては重要だと思います。

上記の例は、いわゆる『正の転移』と呼びます。転移がプラスに働くことをそう呼びます。
逆にいうと『負の転移』と呼ばれる現象もあります。

例えば java プログラマーは変数は初期化した上で使わなければならないと深く学んでいるので、Python のコードを書く時にも同じことをしてしまうかもしれません。そして、その知識は Python では間違っています。

つまり、今まで身につけていた知識が別の領域ではマイナスに働く可能性も十分にあり得ます。このことには意識的に注意をしておくことが大事です。なぜなら転移は無意識に行われることもしばしばあるからです。

---

ところで転移は、一般には起こりづらいものだと言われているそうです。

類似した領域であれば起こりやすいなどはありますが、例えばチェスの例がよく挙げられます。

多くの人が、チェスの知識が知能・論理的推論能力・記憶力を向上させると思っていますが、実際の研究ではそうした仮説を支持する結果が出てきていないそうです。
Part1 で、実際の盤面ではな出鱈目な駒の配置を覚えるテストでは、チェスの熟練者・初心者で記憶力に差が見られなかったという話をしましたが、実際の研究結果でも出ているそうです。あくまでチェスの知識はチェスの場面で役立つものであり、それが他の領域に転移するかどうかとはあまり関係がないみたいです。[^1]


---

本章のタイトル「誤認識」とは、プログラミングにおいてはまさにこの『転移』が悪い意味で作用してしまうことで起こる問題だと本書では述べられています。

いくつか意識をしておいた方がいい点として以下のことが挙げられています：

- 自分が正しいと確信していることでも、間違っている可能性があることを認識する（オープンマインド）
- 誤認識に陥らないように注意して勉強する
- 同じプログラミング言語を同じ順番で学んだプログラマーにアドバイスをもらう


# Chapter8: よりよい命名を行う方法

本章はプログラミングにおける『命名』についての内容になっています。

まず、命名はとても重要な営みです。ではなぜ重要なのか？

- 名前はコードの大部分を占める（ある研究では、トークンのうち 33%、文字にすると 72% が識別子であったそう）
- コードレビューにおける名前の役割（ある研究では、コードレビューの4件に1件は命名に関する指摘であったそう）
- 名前は最もアクセスしやすいドキュメントである

一方で、命名をすること自体はとても難しいです。

複数人を集めてある概念について命名するタスクを実行してもらっても、各人が同じ命名をすることはかなり少ないそうです。これは感覚的にもそうだと思います。
万人に共通してわかりやすい命名なんて、そもそも存在しないのかもしれません。

それでも本書では、より良い命名をすることに向けていくつかの考え方を紹介しています。

---

まず1つは『文法をきちんと定義する』ことです。要は「変数名はキャメルケースで統一しましょう」とかそういうことです。

Part1 の内容でも触れましたが、余計なノイズになる情報（つまり、長期記憶にアクセスしづらい情報）は、認知負荷を増加させます。そのため、変数名の命名規則を統一することで、認知負荷を減らすことができます。

もう1つは『一貫性を保つ』ことです。同じ英単語が複数回コード上で登場する際に、全てが同じ意味で使われていれば、長期記憶に移行しやすくなり、今後コードを読む際にも負荷を下げることができます。

---

命名に関して本書で面白い研究が紹介されています。
それは、「命名規則はプロジェクトの初期から変わらない」というものでした。

ドーン・ローリー氏は、「キャメルケース・スネークケースのように単語が区切られていること」「辞書に載っている単語を使うこと」が良い命名だと仮定し、30年間にわたって書かれてきたコードを分析しました。

その結果、プロジェクトの初期に行われていたような命名規則は、時間が経っても変化していなかったそうです。

つまり、『命名の品質はプロジェクトの初期で決まるので、最初からちゃんと命名しとけよ』という教訓になるかなと思います。[^2]

---

フェイテルソン氏は、より良い命名をするための3ステップを提唱しました。


1. 名前に含めるべき概念を選択する。
2. それらの概念を表す単語を選ぶ。
3. それらの単語を使って命名を行う。


1点目は言わずもがな、ですね。それが何を表しているのかをしっかり考えて、適切な概念をまず選択する必要があります。

この点がしっかり行われていれば、長期記憶にも紐付けやすくなります（ドメイン駆動設計的な観点になるかもしれないですが、ドメインに存在している概念を言い表した命名であれば、覚えやすいはずです）。

2点目は、ドメインでユビキタス言語が決まっていればそれを使うことはいい基準になります。あるいは辞書に載っている単語を使うことも、一般的に知られているはずという意味で良い基準になり得ます。

3点目はまあ雰囲気といえば雰囲気なんですが、「ちゃんと英語の文法に則って命名する」のが大事かなと思います。


# Chapter10: 複雑な問題をより上手に解決するために

問題解決において認知プロセスがどう役割を果たし、どう役立つのかを紹介した内容になっています。

この章の内容は、個人的には10年前から「絶対そうだよな」と思っていた内容ドンピシャだったので、普通にテンション上がりました。

---

まず、よく考えると、問題解決を行う際には認知プロセスを使っています。

短期記憶に問題をまず格納して、ワーキングメモリ上で思考を展開して問題内容の理解、解決に向けての計画、そして実行をしていく必要があります。
その中で、長期記憶に役立つ知識があればそれを引っ張り出して解決に役立たせます。

この時の長期記憶について、本書ではもう少し深ぼって説明されています。

長期記憶には大きく分けると２種類、少し細かく分けて３種類あるそうです。

```text
記憶
|-- 手続記憶（潜在記憶）
|-- 宣言的記憶（顕在記憶）
    |- エピソード記憶
    |- 意味記憶
```

手続記憶は、運動技能など、意識せずに行うことのできる技能に関する記憶です。

例えば、皆さんは"歩く"という動作に習熟しきっているので、いちいち脳内で「まずは右足をこれくらい前に出して、次に左足をこれくらい前に出す。その時右足はあまり動かさないように・・・」とか考えていないと思います。
あるいは自転車に乗るとか、そんなことでもいいでしょう。

**意識せずに行える**という点がポイントです。

エピソード記憶は、いわゆる僕たちが普段思い浮かべる「記憶」です。ある時に起こった出来事を思い出すとか、そういう記憶です。
「高校1年生の頃にオープンキャンパスで京都に来て、鴨川の雰囲気がめっちゃ良くて感動したなぁ」とか、そんなやつです。

意味記憶は、知識や概念の意味に関する記憶です。「4 x 5 = 20」「cat は日本語で猫」とか、そんなやつです。

プログラミングをする際も、上記の記憶を駆使して問題解決を行っているはずです。

まず、コードを書くときにはキーボードを操作すると思います。
ある程度慣れていれば、ブラインドタッチができるでしょう。これなんかはまさに、手続記憶にキーボード操作のための動作が保存されているので、ワーキングメモリに負荷をかけることなく操作ができるようになっています。

エピソード記憶についても、過去に似たような問題を解いたことがある記憶があれば、同じような解き方を試みることができるでしょう。

意味記憶は言わずもがなですね。`if`, `for`がどんなオペレーションなのかは知っているはずで、それを駆使して問題解決を行なっています。

逆にいうと、こういった知識が長期記憶に入っていなければ、問題解決をすることが難しいはずです。（「負の転移」で学んだように、足枷になる可能性ももちろんありますが）

---

ここで本書では『知識の自動化』という言葉で問題解決能力を高める方法を紹介しています。

例えば、因数分解に慣れた人は`x^2 + y^2 + 2 xy`をすぐ因数分解することができます。

これができる人は、`(x^2 + y^2 + 2 xy) / (x + y)`もすぐに解くことができると思います。逆にいうと、最初の因数分解に手間取ってしまうようだと、後者の問題を解くのは難しいでしょう。

こうした、「意識しなくても推敲できる知識を身につけて運用し、より複雑な問題を解くことに注力する」ことを『知識の自動化』と呼んでいます。

プログラミングにおいても同じことが言えると思います。

`if`, `for`の意味がわからない、曖昧にしか覚えていない人が、より高度なアルゴリズムの問題を素早く解くことができるでしょうか？無理だと思います。

基礎的な知識を、意識することなく使いこなせるようになった上で、実際に直面している問題に対して頭を悩ますことができるのです。それこそが"問題解決"だと僕は思っています。[^3]

---

ではどうやって問題解決能力を強化すればいいのでしょうか？

本書では「範例（worked examples）」という内容を紹介しています。

要は、「ちゃんとした説明を受けて学べ」です。

子供たちを対象に簡単な方程式を解く問題を学んでもらう際に、一方のグループには単に方程式だけが書かれた解説を私、もう一方には解き方を詳しく、段階的に解説したものを渡しました。

結果的には、より詳しい解説を受けた子供たちの方が、他の方程式を解く際にもより良い結果を示しました。

詳しい解説を与えると、子供たちが自分で考えないんじゃないか？という懸念もあったのですが、結果は見事に逆でした。きちんとした知識から学ぶべきだということです。
実際に僕らの業界では以下のような形が一般的かと思います：

- 同僚から学ぶ
- GitHub を探検する
- ソースコードに関する本やブログ記事を読む

---

きちんとした知識を無意識に行えるレベルまで考え訓練し、向き合っている問題の本質に頭を使うことができるよう、日々努力していきましょう。



[^1]: プログラミングを学んでも論理的思考が身につくとは限らない、とも言えるかもしれないですね。個人的にも、プログラミングより国語の教科書とか読んで考えた方がよっぽど良いと思います。プログラミングだと、プログラムの文法とか雑多な知識を身に着けることに終始してしまうので。

[^2]: これは命名に限らない気もしています。多くのプログラマーは、すでに書かれているコードに倣ってコードを書くものだと経験的にも知っているので。最初が肝心なんだ。最初に気合い入れろ。

[^3]: 数学の問題解くときに、いちいち定義だったりを頭に思い浮かべながら考えるのって効率悪いじゃないですが。日々勉強する中で概念や公式を頭に根付かせて、それらを統合して問題解決に向き合うことがすごく大事だと思っています。